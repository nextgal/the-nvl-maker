<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
  "http://www.w3.org/TR/html4/loose.dtd">
<html lang="zh-CN">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta http-equiv="content-style-type" content="text/css">
<title>THE NVL Maker</title>
<link rel="stylesheet" type="text/css" href="../img/style.css">
</head>
<body>

<!-- out開始 -->
<div id="out">

<!-- ============ ▼ダイアリー　ここから ============ -->

	<h3>多路线电子小说</h3>

		<div class="write">

			<!-- ============ ▼本文　ここから ============ -->

			<p class="deco">
            	“根据选择或者其他操作，让游戏走向不同的剧情”是文字冒险游戏和一般的小说最大的区别之一。<br>
                例如恋爱游戏里，当某角色好感度高于90的时候，走向角色结局，否则就走向普通结局。<br>
                而实现这样效果的指令就是“条件分歧”，也就是“根据条件不同，执行不同的脚本段落”。
            </p>

			<!-- ============ ▲本文　ここまで ============ -->

		</div><!-- /write -->
		<div class="line"><hr></div>
        
	<h3>当好感度到达某个数值时……</h3>

		<div class="write">

			<!-- ============ ▼本文　ここから ============ -->

			<p class="deco">
                还有一种常见的剧情设定，就是在选择之后剧情并没有什么特别的变化，但是到了后面某个地方，突然之前埋下的“地雷”就炸了。<br>
                例如说，在第一个事件里让角色的好感度下降了，<br>
                在出现第二个事件的时候，本来有三个选项可以选，但好感度不够，于是只显示了两个。<br>
                <br>
                这种情况，就需要用到条件分歧了。<br>
                假设一下接下来就是这种情况。<br>
                如果f.好感度的值>=5，那么玩家就可以看到三个选项，否则的话就只能看到两个选项。
            </p>

			<!-- ============ ▲本文　ここまで ============ -->

		</div><!-- /write -->
		<div class="line"><hr></div>
        
	<h3>插入一个条件分歧</h3>

		<div class="write">

			<!-- ============ ▼本文　ここから ============ -->
			<img src="../sc/select/image032.jpg">
            <img src="../sc/select/image033.jpg">
			<p class="deco">
            	在第二个选择按钮下面新建一行，戳一下“变数系统-创建分歧”。
            </p>
            <img src="../sc/select/image034.jpg">
			<p class="deco">
                这里的条件要填什么呢。虽然可以猜得出来是“f.好感度>=5”，不过也不能这么蒙吧。<br>
				这个文本框后面有个□。在THE NVL Maker里，这就表示“你基本可以用鼠标来解决问题”，请继续往下看。
            </p>
            
			<!-- ============ ▲本文　ここまで ============ -->

		</div><!-- /write -->
		<div class="line"><hr></div>

	<h3>TJS条件生成器</h3>

		<div class="write">

			<!-- ============ ▼本文　ここから ============ -->
            <img src="../sc/select/image035.jpg">     
			<p class="deco">
            	为了避免看到TJS头大而导致的不会写条件或者条件写错，NVL提供了从图形化生成TJS条件式的功能。<br>
                填写这样的东西，应该没问题吧。
            </p>
            <img src="../sc/select/image037.jpg"> 
			<p class="deco">
                 先别急着点确认，这里需要多一步：
            </p>
            <img src="../sc/select/image038.jpg">
			<p class="deco">
                 点一下条件生成器最下方的这个按钮，查看一下系统自动生成的TJS条件式是不是对的。
            </p>
            <img src="../sc/select/image039.jpg">
			<p class="deco">
                没有问题，再点下“确认”。
            </p>

			<!-- ============ ▲本文　ここまで ============ -->

		</div><!-- /write -->
		<div class="line"><hr></div>
        
	<h3>在条件分歧的范围内，填写新的指令</h3>

		<div class="write">

			<!-- ============ ▼本文　ここから ============ -->
            <img src="../sc/select/image040.jpg">
			<p class="deco">
                因为没有其他的分歧情况，也没有“都不符合”的时候的默认分歧情况，所以就这样保持原样，点下确认就好了。<br>
                现在，我们已经成功地创建了一个非常简单的条件分歧，该是往里填内容的时候了。<br>
                在“条件分歧”和“条件分歧结束”中间，填写的指令只会在满足条件时才发生。<br>
                如上文所说，我们要做的：当满足“角色好感度大于等于5”这个条件时，增加一个选项。<br>
                所以接下来要做的，当然是在正确的地方插入选项按钮了。
            </p>
            <img src="../sc/select/image041.jpg">
            
			<p class="deco">
            	最后，跑一次游戏测试？<br>
                注意下面的截图只有在好感度大于等于5的情况下才会出现哦。
            </p>
            <img src="../sc/select/image042.jpg">
            
			<!-- ============ ▲本文　ここまで ============ -->

		</div><!-- /write -->
		<div class="line"><hr></div>


	<h3>条件分歧还能用来做什么？</h3>

		<div class="write">

			<!-- ============ ▼本文　ここから ============ -->

			<p class="deco">
            	答案是……咳咳，几乎所有的事。<br>
                下面就是两个简单的使用说明。
            </p>

			<!-- ============ ▲本文　ここまで ============ -->

		</div><!-- /write -->
		<div class="line"><hr></div>
        
	<h3>当游戏通关时，改变标题画面</h3>

		<div class="write">

			<!-- ============ ▼本文　ここから ============ -->

			<p class="deco">
            	NVL的标题画面配置文件名叫Data\macro\uititle.tjs。<br>
                假设我们复制一份编辑好的uititle.tjs，然后改名叫uititle1.tjs<br>
                接着通过NVL的界面编辑器继续修改uititle.tjs，那么我们手头就有了两个不同的标题画面配置文件。<br>
                当游戏通关时，设定某个sf变数，例如 sf.通关=1 。<br>
                接下来，在Data/scenario/title.ks里设定一个条件分歧，当 sf.通关 为1的时候，加载uititle1.tjs，否则的话还是和原来一样加载uititle.tjs。<br>
                模板工程的title.ks里就有范例的写法，去掉注释行即可使用。<br>
                你可能会疑惑模板工程里的代码看起来和上面说的不一样？——那是因为这里用的是TJS写法而不是KAG写法。<br>
                在需要执行的内容比较复杂的时候，TJS的写法要更简明一点。
            </p>

			<!-- ============ ▲本文　ここまで ============ -->

		</div><!-- /write -->
		<div class="line"><hr></div>
        
	<h3>通关后再次进行游戏时，追加隐藏人物的剧情</h3>

		<div class="write">

			<!-- ============ ▼本文　ここから ============ -->

			<p class="deco">
                当游戏通关时，设定某个sf变数，例如 sf.通关=1 。<br>
                接着，在某段剧情里设定一个条件分歧，例如这样：
            </p>
            
                <blockquote>
                <strong>[if exp="sf.通关==1"]</strong><br>
                	[jump target="*隐藏人物剧情"];条件满足时执行这一行<br>
                <strong>[else]</strong><br>
                	[jump target="*正常主线剧情"];条件不满足时执行这一行<br>
                <strong>[endif]</strong>
                </blockquote>
                
			<p class="deco">
				那么当剧情执行到这里时，通关以后的玩家就能够触发隐藏人物剧情，而未通关玩家看到的就是正常主线了。<br>
                请注意这里的条件分歧比之前说的选项多了一种情况，那就是“不满足条件”的情况。这是用指令[else]来表示的。<br>
                每个条件分歧都必须要有[if]（条件分歧）和[endif]（条件分歧结束）指令。<br>
                至于[else]（不满足条件，也就是默认分歧的情况）和[elsif]（不满足[if]条件，继续判断是否满足其他条件，也就是继续分歧的情况）则是可选的。<br>
                实际上，对于新手来说，只要能掌握[if]和[endif]就够了，其他的情况都可以用多个分开写的[if]和[endif]来实现，所以看不懂上面这行也没多大关系啦。
            </p>

			<!-- ============ ▲本文　ここまで ============ -->

		</div><!-- /write -->
		<div class="line"><hr></div>

<!-- ============ ▲ダイアリー　ここまで ============ -->


<!-- footer開始 -->
<div id="footer">
		<ul>
			<li><a href="../tutorial.html" title="返回教程" target="_self">Home</a></li>
		</ul>
</div>
<!-- footer終了 -->


</div>
<!--out終了-->

</body>
</html>